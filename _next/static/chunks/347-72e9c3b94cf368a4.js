"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[347],{312:function(e,n,r){var t=r(5893),i=r(1107),a=r(5955);n.Z=function(){var e=(0,a.O)(),n=e.isWeb3Available,r=e.isMetaMaskInstalled,o=e.connecting,c=e.connect,s=e.startOnboarding;return(0,t.jsx)("div",{children:n?(0,t.jsx)(i.z,{color:"green",disabled:o,onClick:c,children:r?"Connect MetaMask":"Connect Wallet"}):(0,t.jsx)(i.z,{color:"green",onClick:s,children:"Install Metamask"})})}},9706:function(e,n,r){r.d(n,{V:function(){return h}});var t=r(8520),i=r.n(t),a=r(5893),o=r(7044),c=r(7294),s=r(968),l=r(7420),u=function(){return(0,a.jsxs)("div",{className:"p-4 text-center",children:[(0,a.jsx)("p",{children:"Your wallet is connected but targets an unsupported network."}),(0,a.jsx)("p",{children:"Supported networks are Hardhat (local dev), Ropsten Test Net"}),(0,a.jsx)("br",{}),(0,a.jsx)("p",{children:"Please open your wallet and select a supported network."})]})},d=r(2544);function f(e,n,r,t,i,a,o){try{var c=e[a](o),s=c.value}catch(l){return void r(l)}c.done?n(s):Promise.resolve(s).then(t,i)}var h=function(e){var n=e.children,r=(0,c.useState)(!1),t=r[0],h=r[1],v=(0,l.F)().chainId,x=(0,o.Ge)("INFURA"),b=x.library,m=x.error,p=x.active,y=x.activate,j=x.chainId,g=(0,c.useMemo)((function(){return!m&&p&&!!b}),[p,m,b]),w=(0,c.useMemo)((function(){return"UnsupportedChainIdError"===(null===m||void 0===m?void 0:m.name)}),[null===m||void 0===m?void 0:m.name]),N=(0,c.useMemo)((function(){return(0,s.t)(v)}),[]);return(0,c.useEffect)((function(){var e;(e=i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N){e.next=2;break}return e.abrupt("return");case 2:if(j!==v)try{N.changeChainId(v)}catch(n){alert("fail")}case 3:case"end":return e.stop()}}),e)})),function(){var n=this,r=arguments;return new Promise((function(t,i){var a=e.apply(n,r);function o(e){f(a,t,i,o,c,"next",e)}function c(e){f(a,t,i,o,c,"throw",e)}o(void 0)}))})()}),[v,j,N]),(0,c.useEffect)((function(){t||p||y(N,(function(e){e&&(console.error("PublicBlockchainConnection",{err:e}),h(!0))}),!0).catch((function(e){console.error("PublicBlockchainConnection",{reason:e}),h(!0)}))}),[y,p,m,N,t]),m?(console.error("Connected",{error:m}),(0,a.jsxs)("div",{children:["Failed to connect to Ethereum node : ",m.message]})):g?(0,a.jsx)(a.Fragment,{children:n}):w?(0,a.jsx)(u,{}):(0,a.jsx)(d.o,{})}},2544:function(e,n,r){r.d(n,{o:function(){return a}});var t=r(5893),i=r(312),a=function(){return(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("p",{className:"p-4",children:["This feature requires connecting to the Ethereum blockchain.",(0,t.jsx)("br",{}),"Please connect your wallet, or install Metamask, to continue."]}),(0,t.jsx)("div",{className:"p-4",children:(0,t.jsx)(i.Z,{})})]})}},9762:function(e,n,r){r.d(n,{F:function(){return o}});var t=r(5893),i=r(5955),a=(r(1856),r(1107)),o=(r(9857),function(){var e=(0,i.O)(),n=e.walletChainName,r=e.networkChainName,o=e.checkWalletChain;return(0,t.jsxs)("div",{className:"p-4 text-center",children:[(0,t.jsxs)("p",{className:"mb-4",children:["Your wallet is connected but targets an invalid network (",n,")."]}),(0,t.jsxs)(a.z,{color:"green",onClick:o,children:["Switch to ",r]})]})})},1856:function(e,n,r){r.d(n,{K:function(){return l}});var t=r(5893),i=r(6010),a=r(1107),o=r(9857);function c(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function s(e,n){if(null==e)return{};var r,t,i=function(e,n){if(null==e)return{};var r,t,i={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(i[r]=e[r]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var l=function(e){var n=e.working,r=void 0!==n&&n,l=e.children,u=e.disabled,d=s(e,["working","children","disabled"]);return(0,t.jsxs)(a.z,function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){c(e,n,r[n])}))}return e}({role:"button"},d,{className:"relative",disabled:u||r,children:[(0,t.jsx)("span",{className:r?"invisible":"visible",children:l}),r&&(0,t.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:(0,t.jsx)(o.X,{className:(0,i.Z)("w-5 h-5")})})]}))}},1107:function(e,n,r){r.d(n,{z:function(){return s}});var t=r(5893),i=r(6010),a=r(7294);function o(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function c(e,n){if(null==e)return{};var r,t,i=function(e,n){if(null==e)return{};var r,t,i={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(i[r]=e[r]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var s=function(e){var n=e.color,r=void 0===n?"white":n,s=e.compact,l=void 0!==s&&s,u=e.className,d=e.disabled,f=e.children,h=c(e,["color","compact","className","disabled","children"]),v=(0,a.useMemo)((function(){return function(e,n){switch(e){case"blue":return(0,i.Z)("text-blue-400 border-blue-600 focus-visible:border-blue-600",!n&&"hover:bg-blue-600 hover:text-blue-200");case"green":return(0,i.Z)("text-green-400 border-green-600 focus-visible:border-green-600",!n&&"hover:bg-green-600 hover:text-green-200");case"pink":return(0,i.Z)("text-pink-400 border-pink-600 focus-visible:border-pink-600",!n&&"hover:bg-pink-600 hover:text-pink-200");case"red":return(0,i.Z)("text-red-500 border-red-600 focus-visible:border-red-600",!n&&"hover:bg-red-600 hover:text-red-200");case"yellow":return(0,i.Z)("text-yellow-500 border-yellow-500 focus-visible:border-yellow-600",!n&&"hover:bg-yellow-500 hover:text-yellow-200");case"white":return(0,i.Z)("border-white-600 text-white focus-visible:border-white-600",!n&&"hover:bg-gray-200 hover:text-gray-700");case"gray":default:return(0,i.Z)("text-gray-300 border-gray-400 focus-visible:border-gray-400",!n&&"hover:bg-gray-200 hover:text-gray-700")}}(r,d)}),[r,d]);return(0,t.jsx)("button",function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){o(e,n,r[n])}))}return e}({disabled:d,className:(0,i.Z)(v,"uppercase border-2 rounded-lg px-3 py-2 cursor-pointer disabled:opacity-50 disabled:hover:bg-transparent disabled:cursor-default",l?"py-1":"py-2",u)},h,{children:f}))}},9857:function(e,n,r){r.d(n,{X:function(){return a}});var t=r(5893),i=r(6010),a=function(e){var n=e.className;return(0,t.jsxs)("svg",{"data-testid":"button-spinner",className:(0,i.Z)("animate-spin",null!==n&&void 0!==n?n:"w-5 h-5"),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}},3471:function(e,n,r){r.d(n,{G:function(){return u}});var t=r(5893),i=r(7044),a=r(6010),o=r(7294),c=r(5282),s=function(e,n){var r=void 0===n?4:n;return"".concat(e.substring(0,r+2),"\u2026").concat(e.substring(e.length-r))};var l=r(5565);var u=function(e){var n=e.address,r=e.color,u=e.type,d=e.className,f=e.withIcon,h=e.children,v=(0,i.Ge)("INFURA").chainId,x=function(e){var n=(0,i.Ge)("INFURA"),r=n.library,t=n.chainId,a=(0,o.useState)(""),c=a[0],s=a[1];return(0,o.useEffect)((function(){if(r&&"string"===typeof e){var n=!1;return r.lookupAddress(e).then((function(e){n||"string"!==typeof e||s(e)})).catch((function(){})),function(){n=!0,s("")}}}),[r,e,t]),c}(n),b=(0,o.useMemo)((function(){return function(e,n,r){var t,i=c.Q.find((function(e){return e.chainId===n})),a=null!==(t=null===i||void 0===i?void 0:i.etherscanPrefix)&&void 0!==t?t:"",o="Account"===e?"address":"tx";return"https://".concat(a,"etherscan.io/").concat(o,"/").concat(r)}(u,v,n)}),[n,v,u]),m=(0,o.useMemo)((function(){return(0,a.Z)(function(e){return"green"===(void 0===e?"white":e)?"underline text-green-500 hover:text-green-400":"underline text-gray-200 hover:text-gray-100"}(r),d)}),[d,r]),p=(0,o.useMemo)((function(){return{seed:(0,l.Ds)(n),content:null!==h&&void 0!==h?h:x||s(n)}}),[n,h,x]),y=p.seed,j=p.content;return v?(0,t.jsxs)("a",{href:b,target:"_blank",rel:"noopener noreferrer",className:m,children:[f&&(0,t.jsx)("span",{className:"mr-1 align-middle",children:(0,t.jsx)(l.ZP,{diameter:14,seed:y})}),j]}):null}},1253:function(e,n,r){r.d(n,{Z:function(){return W}});var t=r(5893),i=r(9008),a=r(3153),o=r(9583),c=function(){return(0,t.jsxs)("footer",{className:"h-30 bg-gray-900 py-4 flex",children:[(0,t.jsx)("div",{className:"w-10"}),(0,t.jsxs)("div",{className:"text-center flex-grow",children:["Built with ",(0,t.jsx)(a.h_8,{className:"inline text-red-500 w-5 h-5"})," by Arnault Nouvel"]}),(0,t.jsx)("div",{className:"w-10 text-white",children:(0,t.jsx)("a",{href:"https://github.com/ArnaultNouvel/ethvil-bank",children:(0,t.jsx)(o.hJX,{className:" w-5 h-5"})})})]})},s=r(1664),l=r(7044),u=r(7294),d=r(5282),f=r(1521);var h,v,x=(h=(0,f.Z)((function(){var e=(0,u.useState)(!1),n=e[0],r=e[1];return{hidePane:(0,u.useCallback)((function(){return r(!1)}),[]),showPane:(0,u.useCallback)((function(){return r(!0)}),[]),show:n}})),v=2,function(e){if(Array.isArray(e))return e}(h)||function(e,n){var r=[],t=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(t=(o=c.next()).done)&&(r.push(o.value),!n||r.length!==n);t=!0);}catch(s){i=!0,a=s}finally{try{t||null==c.return||c.return()}finally{if(i)throw a}}return r}(h,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),b=x[0],m=x[1],p=function(){var e=m().showPane,n=(0,l.Ge)("INFURA").chainId,r=(0,u.useMemo)((function(){return d.Q.find((function(e){return e.chainId===n}))}),[n]);return(0,t.jsx)("button",{className:"p-2 hover:bg-white/10",onClick:e,children:null===r||void 0===r?void 0:r.name})},y=r(6654),j=r(3801),g=r(6010),w=function(e){var n=e.show,r=void 0!==n&&n,i=e.children,a=e.title,o=e.onDismiss;return(0,t.jsxs)(y.u,{show:r,children:[(0,t.jsx)(y.u.Child,{"data-testid":"sidepanel-overlay",className:(0,g.Z)("fixed z-40 top-0 left-0 w-full h-full bg-gray-900/50",o?"cursor-pointer":""),enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",onClick:o}),(0,t.jsxs)(y.u.Child,{"data-testid":"sidepanel-panel",className:"z-50 max-w-full shadow-lg fixed top-0 right-0 h-screen bg-gray-900 flex flex-col w-full sm:w-96",enter:"transition ease-in-out duration-300 transform",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:[(0,t.jsxs)("div",{className:"flex w-full h-10 bg-red-900 text-white",children:[(0,t.jsx)("div",{className:"flex-grow px-2 flex flex-col h-full justify-center",children:(0,t.jsx)("h3",{"data-testid":"sidepanel-title",className:"text-xl",children:a})}),o&&(0,t.jsx)("button",{onClick:o,className:"transition h-10 p-2 bg-opacity-0 hover:bg-opacity-20 active:bg-opacity-20",children:(0,t.jsx)(j.b0D,{className:"w-6 h-6"})})]}),(0,t.jsx)("div",{className:"flex-grow overflow-y-hidden",children:i})]})]})},N=r(4501),k=r(7420),O=function(){var e=(0,k.F)(),n=e.chainId,r=e.setChainId,i=d.Q.find((function(e){return e.chainId===n})),o=(0,u.useCallback)((function(e){return r(e)}),[r]);return(0,t.jsx)(N.R,{value:n,onChange:o,children:(0,t.jsxs)("div",{className:"relative mt-1",children:[(0,t.jsxs)(N.R.Button,{className:"z-0 relative w-full py-2 pl-3 pr-10 text-left bg-gray-700 text-white rounded shadow-md focus:outline-none focus-visible:ring-2 focus-visible:ring-opacity-75 focus-visible:ring-white focus-visible:ring-offset-orange-300 focus-visible:ring-offset-2 focus-visible:border-indigo-500 sm:text-sm cursor-pointer",children:[(0,t.jsx)("span",{className:"block truncate",children:i.fullname}),(0,t.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:(0,t.jsx)(a.Ta4,{className:"w-5 h-5","aria-hidden":"true"})})]}),(0,t.jsx)(y.u,{as:u.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,t.jsx)(N.R.Options,{className:"z-10 absolute w-full mt-1 overflow-auto text-base bg-gray-600 text-white rounded shadow-lg max-h-60 ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:d.Q.map((function(e){var n=e.chainId,r=e.fullname;return(0,t.jsx)(N.R.Option,{className:function(e){var n=e.active;return"".concat(n?"bg-gray-500":"text-white","\n                          cursor-pointer select-none relative py-2 pl-10 pr-4")},value:n,children:function(e){var n=e.selected;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"".concat(n?"font-medium":"font-normal"," block truncate "),children:r}),n?(0,t.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:(0,t.jsx)(a.nQG,{className:"w-5 h-5","aria-hidden":"true"})}):null]})}},n)}))})})]})})},C=r(4216),I=r(8520),P=r.n(I),Z=r(821);function E(e,n,r,t,i,a,o){try{var c=e[a](o),s=c.value}catch(l){return void r(l)}c.done?n(s):Promise.resolve(s).then(t,i)}function F(e){return n=P().mark((function n(r,t){var i;return P().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.getBalance(t);case 2:return i=n.sent,n.abrupt("return",i);case 4:case"end":return n.stop()}}),n)})),function(){var e=this,r=arguments;return new Promise((function(t,i){var a=n.apply(e,r);function o(e){E(a,t,i,o,c,"next",e)}function c(e){E(a,t,i,o,c,"throw",e)}o(void 0)}))};var n}var A=r(3455),M=r(5955),S=r(312),z=r(3471),T=r(9762),B=function(){(0,C.Z)();var e=(0,M.O)(),n=e.account,r=e.isWrongChain,i=e.isConnected,a=function(e,n){var r=void 0!==n&&n,t=(0,l.Ge)(),i=t.library,a=t.chainId,o="string"===typeof e&&!!i;return(0,Z.ZP)(o?["ETHBalance",e,a]:null,F(i),{suspense:r})}(n).data;return r?(0,t.jsx)("div",{className:"text-center m-5",children:(0,t.jsx)(T.F,{})}):i?n?(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex w-full justify-between",children:[(0,t.jsx)("label",{children:"Wallet : "}),(0,t.jsx)("span",{children:(0,t.jsx)(z.G,{type:"Account",address:n,withIcon:!0})})]}),(0,t.jsxs)("div",{className:"flex w-full justify-between",children:[(0,t.jsx)("label",{children:"Balance : "}),(0,t.jsx)("span",{children:a?"".concat((0,A.s)(a)," ETH"):"N/A"})]})]}):null:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{children:"Wallet : Not connected"}),(0,t.jsx)(S.Z,{})]})},G=function(){var e=m(),n=e.show,r=e.hidePane;return(0,t.jsx)(w,{title:"Network",show:n,onDismiss:r,children:(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"my-4",children:[(0,t.jsx)("label",{children:"Network : "}),(0,t.jsx)(O,{})]}),(0,t.jsx)("div",{className:"my-4",children:(0,t.jsx)(B,{})})]})})},R=function(){return(0,t.jsxs)(b,{children:[(0,t.jsxs)("header",{className:"bg-red-900 text-white fixed top-0 left-0 w-full h-10 flex justify-between z-10",children:[(0,t.jsx)("div",{className:"p-2",children:(0,t.jsx)(s.default,{href:"/",children:(0,t.jsx)("a",{className:"text-white",children:"ETHvil Bank"})})}),(0,t.jsx)(p,{})]}),(0,t.jsx)("div",{className:"h-10"}),(0,t.jsx)(G,{})]})},W=function(e){var n=e.title,r=e.children;return(0,t.jsxs)("div",{className:"min-h-screen flex flex-col",children:[n&&(0,t.jsx)(i.default,{children:(0,t.jsx)("title",{children:n})}),(0,t.jsx)(R,{}),(0,t.jsx)("div",{className:"container mx-auto max-w-2xl py-4 flex-grow",children:(0,t.jsxs)("main",{children:[(0,t.jsx)("h1",{className:"font-bold text-6xl text-center text-red-600 p-4",style:{fontFamily:"Nosifer"},children:"ETHvil Bank"}),(0,t.jsx)("div",{className:"my-4 space-y-8",children:r})]})}),(0,t.jsx)(c,{})]})}},4930:function(e,n,r){r.d(n,{$:function(){return c}});var t=r(5893),i=r(6010),a=r(4235),o=r(5204),c=function(e){var n=e.color,r=void 0===n?"red":n,c=e.children;return(0,t.jsx)(a.s,{color:r,children:(0,t.jsxs)("div",{className:(0,i.Z)("relative sm:border-2 inline-block rounded w-full",(0,o.u)(r)),children:[(0,t.jsx)("div",{className:"absolute bg-gray-900 w-full h-full opacity-70 z-[-10]"}),c]})})}},4235:function(e,n,r){r.d(n,{s:function(){return c},f:function(){return s}});var t=r(1521);var i,a,o=(i=(0,t.Z)((function(e){return{color:e.color}})),a=2,function(e){if(Array.isArray(e))return e}(i)||function(e,n){var r=[],t=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(t=(o=c.next()).done)&&(r.push(o.value),!n||r.length!==n);t=!0);}catch(s){i=!0,a=s}finally{try{t||null==c.return||c.return()}finally{if(i)throw a}}return r}(i,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),c=o[0],s=o[1]},3738:function(e,n,r){r.d(n,{N:function(){return c}});var t=r(5893),i=r(6010),a=r(4235),o=r(5204),c=function(e){var n=e.large,r=e.children,c=(0,a.f)().color;return(0,t.jsx)("h3",{className:(0,i.Z)(n?"text-xl":"text-l","font-bold uppercase p-2  text-white text-center",(0,o.r)(c)),children:r})}},5204:function(e,n,r){r.d(n,{r:function(){return t},u:function(){return i}});var t=function(e){switch(e){case"red":return"bg-red-800";default:return"bg-gray-500"}},i=function(e){switch(e){case"red":return"border-red-800";default:return"border-gray-500"}}},4216:function(e,n,r){r.d(n,{Z:function(){return o}});var t=r(7044),i=r(7294),a=r(968);function o(){var e=(0,t.Ge)(),n=e.activate,r=e.active,o=(0,i.useState)(!1),c=o[0],s=o[1];return(0,i.useEffect)((function(){a.E.isAuthorized().then((function(e){e?n(a.E,void 0,!0).catch((function(){s(!0)})):s(!0)}))}),[n]),(0,i.useEffect)((function(){!c&&r&&s(!0)}),[c,r]),c}},9921:function(e,n,r){r.d(n,{L:function(){return o}});var t=r(7044),i=r(7294),a=r(5282),o=function(){var e=(0,t.Ge)("INFURA").chainId;return(0,i.useMemo)((function(){return a.Q.find((function(n){return n.chainId===e}))}),[e])}},3455:function(e,n,r){r.d(n,{s:function(){return i}});var t=r(5553),i=function(e){try{var n=(0,t.dF)(e);return n?Number(n).toFixed(6):n}catch(r){}}}}]);