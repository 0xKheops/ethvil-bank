(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(686)}])},686:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Xe}});var r=n(5893),i=n(9008),a=n(9795),o=n(7294),s=function(){return(0,r.jsxs)("div",{className:"relative border-2 border-red-800 w-full rounded container mx-auto text-center",children:[(0,r.jsx)("div",{className:"absolute bg-gray-900 w-full h-full opacity-70 z-[-10]"}),(0,r.jsx)("h3",{className:"text-xl font-bold uppercase p-2 bg-red-800 text-white text-center",children:"Unsupported chain"}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("p",{children:"Your wallet is connected but targets an unsupported network."}),(0,r.jsx)("p",{children:"Supported networks are Hardhat (local dev), Ropsten Test Net"}),(0,r.jsx)("br",{}),(0,r.jsx)("p",{children:"Please open your wallet and select a supported network."})]})]})},u=n(9857),c=new u._k({supportedChainIds:[3,31337]});var l=n(5666),d=n.n(l),f=n(2003),p=n.n(f);function h(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){h(a,r,i,o,s,"next",e)}function s(e){h(a,r,i,o,s,"throw",e)}o(void 0)}))}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function y(e,t){var n=void 0===t?4:t;return"".concat(e.substring(0,n+2),"\u2026").concat(e.substring(e.length-n))}var b={1:"",3:"ropsten.",4:"rinkeby.",5:"goerli.",42:"kovan.",69:"kovan-optimistic."};function x(e,t){switch(e){case"Account":var n=m(t,2),r=n[0],i=n[1];return"https://".concat(b[r],"etherscan.io/address/").concat(i);case"Transaction":var a=m(t,2),o=a[0],s=a[1];return"https://".concat(b[o],"etherscan.io/tx/").concat(s)}}var w=n(6010);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var N=function(e){var t=e.color,n=void 0===t?"white":t,i=e.compact,a=void 0!==i&&i,s=e.className,u=e.disabled,c=e.children,l=j(e,["color","compact","className","disabled","children"]),d=(0,o.useMemo)((function(){return function(e,t){switch(e){case"blue":return(0,w.Z)("text-blue-400 border-blue-600 focus-visible:border-blue-600",!t&&"hover:bg-blue-600 hover:text-blue-200");case"green":return(0,w.Z)("text-green-400 border-green-600 focus-visible:border-green-600",!t&&"hover:bg-green-600 hover:text-green-200");case"pink":return(0,w.Z)("text-pink-400 border-pink-600 focus-visible:border-pink-600",!t&&"hover:bg-pink-600 hover:text-pink-200");case"red":return(0,w.Z)("text-red-500 border-red-600 focus-visible:border-red-600",!t&&"hover:bg-red-600 hover:text-red-200");case"yellow":return(0,w.Z)("text-yellow-500 border-yellow-500 focus-visible:border-yellow-600",!t&&"hover:bg-yellow-500 hover:text-yellow-200");case"white":return(0,w.Z)("border-white-600 text-white focus-visible:border-white-600",!t&&"hover:bg-gray-200 hover:text-gray-700");case"gray":default:return(0,w.Z)("text-gray-300 border-gray-400 focus-visible:border-gray-400",!t&&"hover:bg-gray-200 hover:text-gray-700")}}(n,u)}),[n,u]);return(0,r.jsx)("button",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){g(e,t,n[t])}))}return e}({disabled:u,className:(0,w.Z)(d,"uppercase border-2 rounded-lg px-3 py-2 cursor-pointer disabled:opacity-50 disabled:hover:bg-transparent disabled:cursor-default",a?"py-1":"py-2",s)},l,{children:c}))};var O=function(e){var t=e.triedToEagerConnect,i=(0,a.Ge)(),s=i.active,l=i.error,f=i.activate,h=i.chainId,m=i.account,b=i.setError,w=function(){var e=(0,o.useRef)(),t=(0,o.useState)(),r=t[0],i=t[1];function a(){return(a=v(d().mark((function t(){var r,i;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,n.e(54).then(n.bind(n,8054)).then((function(e){return e.default}));case 3:i=t.sent,e.current=new i,null===(r=e.current)||void 0===r||r.startOnboarding();case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,o.useEffect)((function(){function e(){return(e=v(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p()({timeout:1e3,mustBeMetaMask:!0});case 2:t=e.sent,i(!!t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),{startOnboarding:function(){return a.apply(this,arguments)},stopOnboarding:function(){(null===e||void 0===e?void 0:e.current)&&e.current.stopOnboarding()},isMetaMaskInstalled:r,isWeb3Available:null===window||void 0===window?void 0:window.ethereum}}(),g=w.isMetaMaskInstalled,j=w.isWeb3Available,O=w.startOnboarding,k=w.stopOnboarding,T=(0,o.useState)(!1),E=T[0],P=T[1];(0,o.useEffect)((function(){(s||l)&&(P(!1),k())}),[s,l,k]);var S=function(e){var t=(0,a.Ge)(),n=t.library,r=t.chainId,i=(0,o.useState)(""),s=i[0],u=i[1];return(0,o.useEffect)((function(){if(n&&"string"===typeof e){var t=!1;return n.lookupAddress(e).then((function(e){t||"string"!==typeof e||u(e)})).catch((function(){})),function(){t=!0,u("")}}}),[n,e,r]),s}(m);return l?null:t?"string"!==typeof m?(0,r.jsx)("div",{children:j?(0,r.jsx)(N,{color:"green",disabled:E,onClick:function(){P(!0),f(c,void 0,!0).catch((function(e){var t,n;t=l,(null!=(n=u.ab)&&"undefined"!==typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](t):t instanceof n)?P(!1):b(e)}))},children:g?"Connect to MetaMask":"Connect to Wallet"}):(0,r.jsx)(N,{color:"green",onClick:O,children:"Install Metamask"})}):(0,r.jsx)("a",{href:x("Account",[h,m]),target:"_blank",rel:"noopener noreferrer",children:S||"".concat(y(m,4))}):null},k=function(){var e=function(){var e=(0,a.Ge)(),t=e.activate,n=e.active,r=(0,o.useState)(!1),i=r[0],s=r[1];return(0,o.useEffect)((function(){c.isAuthorized().then((function(e){e?t(c,void 0,!0).catch((function(){s(!0)})):s(!0)}))}),[t]),(0,o.useEffect)((function(){!i&&n&&s(!0)}),[i,n]),i}();return(0,r.jsxs)("div",{className:"relative border-2 border-red-800 w-full rounded container mx-auto text-center",children:[(0,r.jsx)("div",{className:"absolute bg-gray-900 w-full h-full opacity-70 z-[-10]"}),(0,r.jsx)("h3",{className:"text-xl font-bold uppercase p-2 bg-red-800 text-white text-center",children:"Connect"}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("p",{className:"p-4",children:["This service requires connecting to the Ethereum blockchain.",(0,r.jsx)("br",{}),"Please connect your wallet, or install Metamask, to continue."]}),(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)(O,{triedToEagerConnect:e})})]})]})},T=function(e){var t=e.children,n=(0,a.Ge)(),i=n.account,u=n.library,c=n.error,l=(0,o.useMemo)((function(){return"string"===typeof i&&!!u}),[i,u]),d=(0,o.useMemo)((function(){return"UnsupportedChainIdError"===(null===c||void 0===c?void 0:c.name)}),[null===c||void 0===c?void 0:c.name]);return c&&console.error("Connected",{error:c}),l?(0,r.jsx)(r.Fragment,{children:t}):d?(0,r.jsx)(s,{}):(0,r.jsx)(k,{})},E=n(5553),P=function(e){try{var t=(0,E.dF)(e);return t?Number(t).toFixed(6):t}catch(n){}},S=n(1521),I=n(3288),M=JSON.parse('[{"inputs":[{"internalType":"uint256","name":"min","type":"uint256"}],"name":"InsufficientBid","type":"error"},{"inputs":[],"name":"NothingToWithdraw","type":"error"},{"inputs":[{"internalType":"uint256","name":"endsAt","type":"uint256"}],"name":"ToEarlyToEnd","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"gameId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"bid","type":"uint256"},{"indexed":false,"internalType":"address","name":"director","type":"address"}],"name":"Bid","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"gameId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"address","name":"director","type":"address"}],"name":"GameEnd","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"gameId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"bid","type":"uint256"},{"indexed":false,"internalType":"address","name":"director","type":"address"}],"name":"GameStart","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[],"name":"bid","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"currentBid","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"director","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"directorRewardPercent","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"duration","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"end","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"endsAt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"gameBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"gameId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"minBid","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"minBidIncreasePercent","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"minStartBid","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"ownerRewardPercent","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"running","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_directorRewardPercent","type":"uint256"}],"name":"setDirectorRewardPercent","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_duration","type":"uint256"}],"name":"setDuration","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_minBidIncreasePercent","type":"uint256"}],"name":"setMinBidIncreasePercent","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_ownerRewardPercent","type":"uint256"}],"name":"setOwnerRewardPercent","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"withdrawable","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]'),A=n(6076);function B(){return function(e,t){var n=(0,a.Ge)(),r=n.library,i=n.account,s=n.chainId;return(0,o.useMemo)((function(){if(!e||!t||!r||!s)return null;try{return new A.CH(e,t,r.getSigner(i))}catch(n){return console.error("Failed To Get Contract",n),null}}),[e,t,r,s,i])}("0xA169867963e66823625f8D2bb7E3680aB6941C3A",M)}function D(e){var t=(0,o.useRef)(e);(0,o.useEffect)((function(){t.current=e}));var n=function(){var e=(0,a.Ge)(),t=e.library,n=e.chainId;return(0,I.ZP)(t?["BlockNumber",n]:null,(function(){return t.getBlockNumber()}),{refreshInterval:1e3})}().data;(0,o.useEffect)((function(){t.current()}),[n])}function C(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function G(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){C(a,r,i,o,s,"next",e)}function s(e){C(a,r,i,o,s,"throw",e)}o(void 0)}))}}function H(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}var F=function(){var e,t=B(),n=(0,a.Ge)(),r=n.chainId,i=n.account,o=(0,I.ZP)(["EvilBankStatus",r,i],(e=d().mark((function e(){var n,r,i,a,o,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.gameId(),t.director(),t.currentBid(),t.endsAt(),t.running(),t.minBid()]);case 2:var u;return u=e.sent,n=u[0],r=u[1],i=u[2],a=u[3],o=u[4],s=u[5],e.abrupt("return",{gameId:n,director:r,currentBid:i,endsAt:a,running:o,minBid:s});case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){H(a,r,i,o,s,"next",e)}function s(e){H(a,r,i,o,s,"throw",e)}o(void 0)}))})),s=o.data,u=o.error,c=o.mutate;return D(c),{loading:!s&&!u,error:u,status:s,mutate:c}};function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _,R,U=(_=(0,S.Z)((function(){var e=F(),t=e.status,n=e.loading,r=e.error,i=e.mutate,o=function(e){var t=B(),n=(0,a.Ge)(),r=n.chainId,i=n.account,o=(0,I.ZP)(e?["EvilBankEvents",r,null===e||void 0===e?void 0:e.toHexString()]:null,G(d().mark((function n(){var r,a;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.filters.Bid(e),n.next=3,t.queryFilter(r);case 3:return a=n.sent,n.next=6,Promise.all(a.map(G(d().mark((function t(n){var r,a,o;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:var s;return s=n.args,r=s.director,a=s.bid,t.next=3,n.getBlock();case 3:return o=t.sent.timestamp,t.abrupt("return",{gameId:e,director:r,bid:a,timestamp:o,isCurrentAccount:r===i});case 5:case"end":return t.stop()}}),t)})))));case 6:return n.abrupt("return",n.sent.sort((function(e,t){return t.timestamp-e.timestamp})));case 7:case"end":return n.stop()}}),n)})))),s=o.data,u=o.error;return D(o.mutate),{loading:!s&&!u,error:u,events:s}}(null===t||void 0===t?void 0:t.gameId),s=o.events,u=o.loading,c=o.error;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Z(e,t,n[t])}))}return e}({},t,{mutate:i,events:s,loading:n||u,error:r||c})})),R=2,function(e){if(Array.isArray(e))return e}(_)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(_,R)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),V=U[0],W=U[1],z=function(){var e=W(),t=e.loading,n=e.error,i=e.events;return t||n||!i?null:(0,r.jsxs)("table",{className:"table-auto w-full text-left",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Timestamp"}),(0,r.jsx)("th",{children:"Director"}),(0,r.jsx)("th",{className:"text-right",children:"Bid"})]})}),(0,r.jsx)("tbody",{children:i.map((function(e){return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:new Date(1e3*e.timestamp).toLocaleString()}),(0,r.jsx)("td",{className:e.isCurrentAccount?"text-green-500":"",children:y(e.director)}),(0,r.jsxs)("td",{className:"text-right font-bold",children:[P(e.bid)," ETH"]})]},e.timestamp)}))})]})},q=n(2283),Y=n(4231),K=n(412),L=function(e){try{return(0,E.fi)(e)}catch(t){}};function X(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){J(e,t,n[t])}))}return e}var $=function(e){return(0,o.useCallback)((t=d().mark((function t(n){var r,i;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.validate(n,{abortEarly:!1});case 3:return r=t.sent,t.abrupt("return",{values:r,errors:{}});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{values:{},errors:t.t0.inner.reduce((function(e,t){return Q({},e,J({},t.path,{type:null!==(i=t.type)&&void 0!==i?i:"validation",message:t.message}))}),{})});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(e){X(a,r,i,o,s,"next",e)}function s(e){X(a,r,i,o,s,"throw",e)}o(void 0)}))}),[e]);var t},ee=function(e){var t=e.className;return(0,r.jsxs)("svg",{"data-testid":"button-spinner",className:(0,w.Z)("animate-spin",null!==t&&void 0!==t?t:"w-5 h-5"),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})};function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var re=function(e){var t=e.working,n=void 0!==t&&t,i=e.children,a=e.disabled,o=ne(e,["working","children","disabled"]);return(0,r.jsxs)(N,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){te(e,t,n[t])}))}return e}({role:"button"},o,{className:"relative",disabled:a||n,children:[(0,r.jsx)("span",{className:n?"invisible":"visible",children:i}),n&&(0,r.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:(0,r.jsx)(ee,{className:(0,w.Z)("w-5 h-5")})})]}))};function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ie(e,t,n[t])}))}return e}function oe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var se=(0,o.forwardRef)((function(e,t){var n=e.symbol,i=e.className,a=e.error,o=oe(e,["symbol","className","error"]);return(0,r.jsxs)("div",{className:(0,w.Z)("overflow-hidden pr-0 relative flex w-full form-input rounded  bg-gray-700",a?"border-red-500 focus-within:ring-red-500":"focus-within:border-green-500 focus-within:ring-green-500",i),children:[(0,r.jsx)("input",ae({ref:t,className:" w-full flex-grow outline-none bg-gray-700 text-white text-right"},o)),(0,r.jsx)("div",{className:"flex flex-col justify-center",children:(0,r.jsx)("span",{className:"text-gray-400 mx-2 h-6 fill-current ",children:n})})]})}));se.displayName="CurrencyInput";var ue=n(5769),ce=n(3470);var le=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}((0,S.Z)((function(){var e,t,n=(0,a.Ge)(),r=n.library,i=n.chainId,o=(0,I.ZP)(["GasPrice",i],(function(){return r.getGasPrice()})),s=o.data,u=o.error;return D(o.mutate),{loading:!s&&!u,error:null!==(t=null===u||void 0===u||null===(e=u.data)||void 0===e?void 0:e.message)&&void 0!==t?t:null===u||void 0===u?void 0:u.message,gasprice:s}})),2),de=le[0],fe=le[1];function pe(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var me=function(e,t){var n=(0,ce.C)(),r=n.loading,i=n.error,s=n.value,u=fe(),c=u.loading,l=u.error,f=u.gasprice,p=B(),h=ve((0,ue.Z)(e,200),1)[0],v=(0,o.useMemo)((function(){var e,n=t&&(null===(e=L(h))||void 0===e?void 0:e.gte(t));return{isValid:n,isReady:n&&!r&&!c}}),[h,r,c,t]),m=v.isValid,y=v.isReady,b=(0,o.useState)(!1),x=b[0],w=b[1],g=(0,o.useState)(),j=g[0],N=g[1],O=(0,o.useState)(0),k=O[0],T=O[1],S=(0,a.Ge)().library;(0,o.useEffect)((function(){if(!h)return T(0);var e,t=(e=d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.t0=T,e.next=5,null===p||void 0===p?void 0:p.estimateGas.bid({value:(0,E.fi)(h)});case 5:e.t1=e.sent,(0,e.t0)(e.t1),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(1),N((0,K.e)(e.t2));case 12:w(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){pe(a,r,i,o,s,"next",e)}function s(e){pe(a,r,i,o,s,"throw",e)}o(void 0)}))});m?t():T(0)}),[h,null===p||void 0===p?void 0:p.estimateGas,m,S.blockNumber]);var I,M=(0,o.useMemo)((function(){if(!y)return{bidETH:"N/A",bidUSD:"N/A",estimateGasETH:"N/A",estimateGasUSD:"N/A",totalETH:"N/A",totalUSD:"N/A"};var e=(0,E.fi)(h),t="".concat(P(e)," ETH"),n=Number((0,E.dF)(e))*s,r="".concat(n.toFixed(2)," USD"),i=f.mul(k),a="".concat(P(i)," ETH"),o=Number((0,E.dF)(i))*s,u="".concat(o.toFixed(2)," USD"),c=e.add(i),l="".concat(P(c)," ETH"),d=Number((0,E.dF)(c))*s;return{bidETH:t,bidUSD:r,estimateGasETH:a,estimateGasUSD:u,totalETH:l,totalUSD:"".concat(d.toFixed(2)," USD")}}),[s,h,k,f,y]);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){he(e,t,n[t])}))}return e}({isValid:m,loading:x||c,error:null!==(I=null!==i&&void 0!==i?i:j)&&void 0!==I?I:l},M)},ye=function(e){var t=e.bid,n=e.minBid,i=me(t,n);return(0,r.jsx)("div",{className:"",children:(0,r.jsx)("table",{className:"w-full table-auto font-bold text-left ",children:(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"pr-2 font-normal",children:"Bid"}),(0,r.jsx)("td",{className:"px-2 text-right w-40",children:i.bidETH}),(0,r.jsx)("td",{className:"pl-2 text-right w-40 opacity-50",children:i.bidUSD})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"pr-2 font-normal",children:"Estimated gas"}),(0,r.jsx)("td",{className:"px-2 text-right",children:i.estimateGasETH}),(0,r.jsx)("td",{className:"pl-2 text-right opacity-50",children:i.estimateGasUSD})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"pr-2",children:"Total cost"}),(0,r.jsx)("td",{className:"px-2 text-right",children:i.totalETH}),(0,r.jsx)("td",{className:"pl-2 text-right opacity-50",children:i.totalUSD})]})]})})})};function be(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){xe(e,t,n[t])}))}return e}var ge=function(){var e,t,n=W(),i=n.minBid,a=n.mutate,s=B(),u=(0,o.useMemo)((function(){return e=i,(0,Y.Ry)({bid:(0,Y.Z_)().required().test("is big number","Failed parse the value",(function(e){return!Number.isNaN(e)})).test("is sufficient","Value must be greater or equal than ".concat(e?(0,E.dF)(e):"null"),(function(t){var n;return null===(n=L(t))||void 0===n?void 0:n.gte(null!==e&&void 0!==e?e:0)}))});var e}),[i]),c=$(u),l=(0,q.cI)({resolver:c,mode:"onTouched",reValidateMode:"onChange"}),f=l.register,p=l.handleSubmit,h=l.formState,v=h.errors,m=h.isSubmitting,y=h.isValid,b=h.isValidating,x=l.reset,w=l.watch;(0,o.useEffect)((function(){i&&x({bid:(0,E.dF)(i)})}),[i,x]);var g,j,N=(0,o.useState)(),O=N[0],k=N[1],T=(g=d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(void 0),e.prev=1,n=(0,E.fi)(t.bid),e.next=5,s.bid({value:n});case 5:return r=e.sent,e.next=8,r.wait();case 8:return e.next=10,a();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),k((0,K.e)(e.t0));case 15:case"end":return e.stop()}}),e,null,[[1,12]])})),function(){var e=this,t=arguments;return new Promise((function(n,r){var i=g.apply(e,t);function a(e){be(i,n,r,a,o,"next",e)}function o(e){be(i,n,r,a,o,"throw",e)}a(void 0)}))}),P=(0,o.useMemo)((function(){return b||m||!y}),[m,y,b]),S=w("bid");return(0,r.jsxs)("form",{onSubmit:p(T),children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("div",{className:"w-full flex space-x-5 overflow-hidden",children:[(0,r.jsx)(se,we({symbol:"ETH"},f("bid",{required:!0}),{id:"bid",name:"bid",autoComplete:"off",className:"flex-grow",error:Boolean(null===(e=v.bid)||void 0===e?void 0:e.message)})),(0,r.jsx)(re,{working:m,color:"green",type:"submit",disabled:P,children:"Deposit"})]}),(0,r.jsx)("div",{className:"text-red-500",children:null!==(j=null===(t=v.bid)||void 0===t?void 0:t.message)&&void 0!==j?j:O})]}),(0,r.jsx)("div",{className:"pt-4",children:(0,r.jsx)(ye,{bid:S,minBid:i})})]})},je=n(7117),Ne=n(6083),Oe=function(e,t){var n=(0,o.useRef)(e);(0,o.useEffect)((function(){n.current=e}),[e]),(0,o.useEffect)((function(){if(null!==t){var e=setInterval((function(){return n.current()}),t);return function(){return clearInterval(e)}}}),[t])},ke=function(e){var t=e.target,n=(0,o.useState)(),i=n[0],a=n[1];return Oe((function(){var e=new Date;if(t.valueOf()<e.valueOf())a("FINISHED");else{var n=(0,je.Z)({start:new Date,end:t});a((0,Ne.Z)(n))}}),1e3),(0,r.jsx)("span",{className:"FINISHED"===i?"text-red-500":"text-green-500",children:i})},Te=function(){var e=W(),t=e.gameId,n=e.endsAt,i=e.currentBid,a=(0,o.useMemo)((function(){var e=n?new Date(1e3*n.toNumber()):null;return{target:e,isFinished:(null===e||void 0===e?void 0:e.valueOf())<Date.now()}}),[n]),s=a.target,u=a.isFinished;return t?(0,r.jsx)("table",{className:"table-auto w-full text-left",children:(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Current bid"}),(0,r.jsxs)("td",{className:"text-right font-bold",children:[P(i)," ETH"]})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Time left"}),(0,r.jsx)("td",{className:"text-right font-bold",children:(0,r.jsx)(ke,{target:s})})]}),u&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:2,className:"text-green-500 text-center",children:"This game beeing finished, next bid will start a new game !"})})]})}):(0,r.jsx)(r.Fragment,{children:"Loading..."})},Ee=function(){var e=W().gameId;return e?(0,r.jsxs)(r.Fragment,{children:["Game N\xb0 ",e.toNumber()]}):(0,r.jsx)(r.Fragment,{children:"Loading..."})};var Pe=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}((0,S.Z)((function(e){return{color:e.color}})),2),Se=Pe[0],Ie=Pe[1],Me=function(e){switch(e){case"red":return"bg-red-800";default:return"bg-gray-500"}},Ae=function(e){switch(e){case"red":return"border-red-800";default:return"border-gray-500"}},Be=function(e){var t=e.color,n=void 0===t?"red":t,i=e.children;return(0,r.jsx)(Se,{color:n,children:(0,r.jsxs)("div",{className:(0,w.Z)("relative sm:border-2 inline-block rounded w-full",Ae(n)),children:[(0,r.jsx)("div",{className:"absolute bg-gray-900 w-full h-full opacity-70 z-[-10]"}),i]})})},De=function(e){var t=e.children;return(0,r.jsx)("div",{className:"p-4",children:t})},Ce=function(e){var t=e.large,n=e.children,i=Ie().color;return(0,r.jsx)("h3",{className:(0,w.Z)(t?"text-xl":"text-l","font-bold uppercase p-2  text-white text-center",Me(i)),children:n})};function Ge(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}var He=function(){var e,t=B(),n=(0,a.Ge)().account,i=W(),s=i.running,u=i.endsAt,c=i.director,l=(0,o.useState)(!1),f=l[0],p=l[1],h=(0,o.useState)(),v=h[0],m=h[1],y=(0,o.useCallback)((e=d().mark((function e(){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(void 0),p(!0),e.prev=2,e.next=5,t.end();case 5:return n=e.sent,e.next=8,n.wait();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),m((0,K.e)(e.t0));case 13:p(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ge(a,r,i,o,s,"next",e)}function s(e){Ge(a,r,i,o,s,"throw",e)}o(void 0)}))}),[t]);return n!==c||!s||1e3*(null===u||void 0===u?void 0:u.toNumber())>Date.now()?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ce,{children:"Manual ending"}),(0,r.jsxs)(De,{children:[(0,r.jsxs)("div",{children:["As the last director of this game, you may end it manually and receive your deposit right away. This action will cost some gas.",(0,r.jsx)("br",{}),"You may also wait for someone to start the next game to receive your funds automatically."]}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)(re,{onClick:y,working:f,color:"green",compact:!0,children:"End game"})}),(0,r.jsx)("div",{className:"text-red-500",children:v})]})]})},Fe=function(){return(0,r.jsx)(V,{children:(0,r.jsxs)(Be,{children:[(0,r.jsx)(Ce,{large:!0,children:(0,r.jsx)(Ee,{})}),(0,r.jsx)(De,{children:(0,r.jsx)(Te,{})}),(0,r.jsx)(He,{}),(0,r.jsx)(Ce,{children:"Become the new director"}),(0,r.jsx)(De,{children:(0,r.jsx)(ge,{})}),(0,r.jsx)(Ce,{children:"Bids"}),(0,r.jsx)(De,{children:(0,r.jsx)(z,{})})]})})},Ze=function(e){var t=e.address,n=(0,a.Ge)().chainId;return n?(0,r.jsx)("a",{href:x("Account",[n,t]),target:"_blank",rel:"noopener noreferrer",className:"underline",children:y(t)}):null},_e=function(){return(0,r.jsxs)("div",{className:"text-left inline-block p-4",children:[(0,r.jsx)("h1",{className:"font-bold text-6xl mb-10 text-center text-red-600",style:{fontFamily:"Nosifer"},children:"ETHvil Bank"}),(0,r.jsx)("div",{className:"my-4 text-yellow-500",children:"This application is a demo & portfolio app, therefore it is only connected to the Ropsten Test Network, for now."}),(0,r.jsxs)("div",{children:["Contract"," ",(0,r.jsx)(Ze,{address:"0xA169867963e66823625f8D2bb7E3680aB6941C3A"})," :"]}),(0,r.jsxs)("ul",{className:"list-disc pl-5",children:[(0,r.jsx)("li",{children:"Bid at least 10% more than the previous director to become the director of the bank."}),(0,r.jsx)("li",{children:"If another person becomes the director within 5 minutes, you will receive your bid + 5% bonus. Owner of the contract also gets 1%."}),(0,r.jsx)("li",{children:"If noone becomes a director after you within 5 minutes, you will get at least 95% of your bid back."})]})]})},Re=n(1664),Ue=function(e){var t=e.children;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("header",{className:"bg-red-900 text-white fixed top-0 left-0 w-full h-10 flex p-2 justify-between z-10",children:[(0,r.jsx)("div",{children:(0,r.jsx)(Re.default,{href:"/",children:(0,r.jsx)("a",{className:"text-white",children:"ETHvil Bank"})})}),(0,r.jsx)("div",{children:t})]}),(0,r.jsx)("div",{className:"h-10"})]})};function Ve(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function We(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ve(a,r,i,o,s,"next",e)}function s(e){Ve(a,r,i,o,s,"throw",e)}o(void 0)}))}}var ze=function(){var e=function(){var e=B(),t=(0,a.Ge)(),n=t.chainId,r=t.account,i=(0,I.ZP)(["withdrawable",n,r,e.address],We(d().mark((function t(){var n;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.withdrawable(r);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))),s=i.data,u=i.error;D(i.mutate);var c=(0,o.useState)(!1),l=c[0],f=c[1],p=(0,o.useState)(),h=p[0],v=p[1];return{loading:!s&&!u,withdrawable:s,error:u,withdraw:(0,o.useCallback)(We(d().mark((function t(){var n;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v(void 0),f(!0),t.prev=2,t.next=5,e.withdraw();case 5:return n=t.sent,t.next=8,n.wait();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),v((0,K.e)(t.t0));case 13:f(!1);case 14:case"end":return t.stop()}}),t,null,[[2,10]])}))),[e]),withdrawing:l,withdraError:h}}(),t=e.loading,n=e.error,i=e.withdrawable,s=e.withdraw,u=e.withdrawing;return n&&console.log(n),t||i.eq(0)?null:(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(Be,{color:"gray",children:[(0,r.jsx)(Ce,{large:!0,children:"Withdraw"}),(0,r.jsx)(De,{children:(0,r.jsxs)("div",{className:"flex w-full",children:[(0,r.jsxs)("div",{className:"flex-grow text-left",children:[(null===i||void 0===i?void 0:i.gt(0))?(0,r.jsxs)("div",{children:["You may withdraw ",P(i)," ETH."]}):(0,r.jsx)("div",{children:"You may not withdraw any ETH at this time."}),(0,r.jsx)("div",{className:"text-red-500"})]}),(0,r.jsx)("div",{children:(0,r.jsx)(re,{color:(null===i||void 0===i?void 0:i.gt(0))?"green":"gray",working:u,onClick:s,children:"Withdraw"})})]})})]})})},qe=function(){var e=(0,a.Ge)().chainId,t=(0,o.useMemo)((function(){return function(e){if(!e)return"";switch(e){case 1:return"Main Ethereum Network";case 3:return"Ropsten Test Network";case 4:return"Rinkeby Test Network";case 5:return"Goerli Test Network";case 69:return"Optimistic Kovan Test Network";case 2018:return"Dev Network";case 1337:return"DEV - Ganache";case 31337:return"DEV - Hardhat";default:return"UNKNOWN NETWORK (".concat(e,")")}}(e)}),[e]);return(0,r.jsx)("span",{title:"Use Metamask to change network",children:t})},Ye=n(3153),Ke=n(9583),Le=function(){return(0,r.jsxs)("footer",{className:"h-30 bg-gray-900 py-4 flex",children:[(0,r.jsx)("div",{className:"w-10"}),(0,r.jsxs)("div",{className:"text-center flex-grow",children:["Built with ",(0,r.jsx)(Ye.h_8,{className:"inline text-red-500 w-5 h-5"})," by Arnault Nouvel"]}),(0,r.jsx)("div",{className:"w-10 text-white",children:(0,r.jsx)("a",{href:"https://github.com/ArnaultNouvel/ethvil-bank",children:(0,r.jsx)(Ke.hJX,{className:" w-5 h-5"})})})]})};var Xe=function(){return(0,r.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,r.jsxs)(i.default,{children:[(0,r.jsx)("title",{children:"ETHvil Bank"}),(0,r.jsx)("link",{rel:"icon",href:"/ethvil-bank/favicon.ico"})]}),(0,r.jsx)(Ue,{children:(0,r.jsx)(qe,{})}),(0,r.jsx)("div",{className:"container mx-auto max-w-2xl py-4 flex-grow",children:(0,r.jsxs)("main",{children:[(0,r.jsx)(_e,{}),(0,r.jsx)("div",{className:"my-4 space-y-8",children:(0,r.jsx)(T,{children:(0,r.jsxs)(de,{children:[(0,r.jsx)(Fe,{}),(0,r.jsx)(ze,{})]})})})]})}),(0,r.jsx)(Le,{})]})}}},function(e){e.O(0,[445,245,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);