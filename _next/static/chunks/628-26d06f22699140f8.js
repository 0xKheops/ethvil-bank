"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[628],{1107:function(e,t,n){n.d(t,{z:function(){return s}});var r=n(5893),i=n(6010),a=n(7294);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=function(e){var t=e.color,n=void 0===t?"white":t,s=e.compact,c=void 0!==s&&s,l=e.className,d=e.disabled,p=e.children,y=o(e,["color","compact","className","disabled","children"]),f=(0,a.useMemo)((function(){return function(e,t){switch(e){case"blue":return(0,i.Z)("text-blue-400 border-blue-600 focus-visible:border-blue-600",!t&&"hover:bg-blue-600 hover:text-blue-200");case"green":return(0,i.Z)("text-green-400 border-green-600 focus-visible:border-green-600",!t&&"hover:bg-green-600 hover:text-green-200");case"pink":return(0,i.Z)("text-pink-400 border-pink-600 focus-visible:border-pink-600",!t&&"hover:bg-pink-600 hover:text-pink-200");case"red":return(0,i.Z)("text-red-500 border-red-600 focus-visible:border-red-600",!t&&"hover:bg-red-600 hover:text-red-200");case"yellow":return(0,i.Z)("text-yellow-500 border-yellow-500 focus-visible:border-yellow-600",!t&&"hover:bg-yellow-500 hover:text-yellow-200");case"white":return(0,i.Z)("border-white-600 text-white focus-visible:border-white-600",!t&&"hover:bg-gray-200 hover:text-gray-700");case"gray":default:return(0,i.Z)("text-gray-300 border-gray-400 focus-visible:border-gray-400",!t&&"hover:bg-gray-200 hover:text-gray-700")}}(n,d)}),[n,d]);return(0,r.jsx)("button",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}({disabled:d,className:(0,i.Z)(f,"uppercase border-2 rounded-lg px-3 py-2 cursor-pointer disabled:opacity-50 disabled:hover:bg-transparent disabled:cursor-default",c?"py-1":"py-2",l)},y,{children:p}))}},1271:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(5893),i=n(7044),a=n(7294),u=n(526),o=n(1422),s=n(1187),c=function(e){var t=e.children,n=(0,a.useState)(!1),c=n[0],l=n[1],d=(0,i.Ge)("INFURA"),p=d.library,y=d.error,f=d.active,b=d.activate,h=(0,a.useMemo)((function(){return!y&&f&&!!p}),[f,y,p]),m=(0,a.useMemo)((function(){return"UnsupportedChainIdError"===(null===y||void 0===y?void 0:y.name)}),[null===y||void 0===y?void 0:y.name]);return(0,a.useEffect)((function(){c||f||b(u.W$,void 0,!0).catch((function(){l(!0)}))}),[b,f,c]),y?(console.error("Connected",{error:y}),(0,r.jsxs)("div",{children:["Failed to connect to Ethereum node : ",y.message]})):h?(0,r.jsx)(r.Fragment,{children:t}):m?(0,r.jsx)(o.e,{}):(0,r.jsx)(s.o,{})}},1422:function(e,t,n){n.d(t,{e:function(){return i}});var r=n(5893),i=function(){return(0,r.jsxs)("div",{className:"p-4 text-center",children:[(0,r.jsx)("p",{children:"Your wallet is connected but targets an unsupported network."}),(0,r.jsx)("p",{children:"Supported networks are Hardhat (local dev), Ropsten Test Net"}),(0,r.jsx)("br",{}),(0,r.jsx)("p",{children:"Please open your wallet and select a supported network."})]})}},1187:function(e,t,n){n.d(t,{o:function(){return m}});var r=n(5893),i=n(7044),a=n(7294),u=n(526);var o=n(950);var s=n(5666),c=n.n(s),l=n(2003),d=n.n(l);function p(e,t,n,r,i,a,u){try{var o=e[a](u),s=o.value}catch(c){return void n(c)}o.done?t(s):Promise.resolve(s).then(r,i)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function u(e){p(a,r,i,u,o,"next",e)}function o(e){p(a,r,i,u,o,"throw",e)}u(void 0)}))}}var f=n(2461),b=n(1107);var h=function(e){var t=e.triedToEagerConnect,s=(0,i.Ge)(),l=s.active,p=s.error,h=s.activate,m=s.chainId,v=s.account,w=s.setError,x=function(){var e=(0,a.useRef)(),t=(0,a.useState)(),r=t[0],i=t[1];function u(){return(u=y(c().mark((function t(){var r,i;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,n.e(54).then(n.bind(n,8054)).then((function(e){return e.default}));case 3:i=t.sent,e.current=new i,null===(r=e.current)||void 0===r||r.startOnboarding();case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,a.useEffect)((function(){function e(){return(e=y(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d()({timeout:1e3,mustBeMetaMask:!0});case 2:t=e.sent,i(!!t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),{startOnboarding:function(){return u.apply(this,arguments)},stopOnboarding:function(){(null===e||void 0===e?void 0:e.current)&&e.current.stopOnboarding()},isMetaMaskInstalled:r,isWeb3Available:null===window||void 0===window?void 0:window.ethereum}}(),g=x.isMetaMaskInstalled,T=x.isWeb3Available,j=x.startOnboarding,k=x.stopOnboarding,M=(0,a.useState)(!1),N=M[0],O=M[1];(0,a.useEffect)((function(){(l||p)&&(O(!1),k())}),[l,p,k]);var E=function(e){var t=(0,i.Ge)(),n=t.library,r=t.chainId,u=(0,a.useState)(""),o=u[0],s=u[1];return(0,a.useEffect)((function(){if(n&&"string"===typeof e){var t=!1;return n.lookupAddress(e).then((function(e){t||"string"!==typeof e||s(e)})).catch((function(){})),function(){t=!0,s("")}}}),[n,e,r]),o}(v);return p?null:t?"string"!==typeof v?(0,r.jsx)("div",{children:T?(0,r.jsx)(b.z,{color:"green",disabled:N,onClick:function(){O(!0),h(u.Lj,void 0,!0).catch((function(e){var t,n;t=p,(null!=(n=o.ab)&&"undefined"!==typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](t):t instanceof n)?O(!1):w(e)}))},children:g?"Connect to MetaMask":"Connect to Wallet"}):(0,r.jsx)(b.z,{color:"green",onClick:j,children:"Install Metamask"})}):(0,r.jsx)("a",{href:(0,f.oZ)("Account",[m,v]),target:"_blank",rel:"noopener noreferrer",children:E||"".concat((0,f.pm)(v,4))}):null},m=function(){var e=function(){var e=(0,i.Ge)(),t=e.activate,n=e.active,r=(0,a.useState)(!1),o=r[0],s=r[1];return(0,a.useEffect)((function(){u.Lj.isAuthorized().then((function(e){e?t(u.Lj,void 0,!0).catch((function(){s(!0)})):s(!0)}))}),[t]),(0,a.useEffect)((function(){!o&&n&&s(!0)}),[o,n]),o}();return(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("p",{className:"p-4",children:["This feature requires connecting to the Ethereum blockchain.",(0,r.jsx)("br",{}),"Please connect your wallet, or install Metamask, to continue."]}),(0,r.jsx)("div",{className:"p-4",children:(0,r.jsx)(h,{triedToEagerConnect:e})})]})}},9057:function(e,t,n){n.d(t,{$:function(){return u}});var r=n(5893),i=n(3153),a=n(9583),u=function(){return(0,r.jsxs)("footer",{className:"h-30 bg-gray-900 py-4 flex",children:[(0,r.jsx)("div",{className:"w-10"}),(0,r.jsxs)("div",{className:"text-center flex-grow",children:["Built with ",(0,r.jsx)(i.h_8,{className:"inline text-red-500 w-5 h-5"})," by Arnault Nouvel"]}),(0,r.jsx)("div",{className:"w-10 text-white",children:(0,r.jsx)("a",{href:"https://github.com/ArnaultNouvel/ethvil-bank",children:(0,r.jsx)(a.hJX,{className:" w-5 h-5"})})})]})}},2923:function(e,t,n){n.d(t,{h:function(){return a}});var r=n(5893),i=n(1664),a=function(e){var t=e.children;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("header",{className:"bg-red-900 text-white fixed top-0 left-0 w-full h-10 flex p-2 justify-between z-10",children:[(0,r.jsx)("div",{children:(0,r.jsx)(i.default,{href:"/",children:(0,r.jsx)("a",{className:"text-white",children:"ETHvil Bank"})})}),(0,r.jsx)("div",{children:t})]}),(0,r.jsx)("div",{className:"h-10"})]})}},5744:function(e,t,n){n.d(t,{Y:function(){return o}});var r=n(5893),i=n(7044),a=n(7294),u=n(2461),o=function(){var e=(0,i.Ge)("INFURA").chainId,t=(0,a.useMemo)((function(){return(0,u.pp)(e)}),[e]);return t?(0,r.jsx)("span",{title:"Use Metamask to change network",children:t}):(0,r.jsx)("span",{children:"DISCONNECTED"})}},1383:function(e,t,n){n.d(t,{Z:function(){return o}});var r=JSON.parse('[{"inputs":[{"internalType":"uint256","name":"min","type":"uint256"}],"name":"InsufficientBid","type":"error"},{"inputs":[],"name":"NothingToWithdraw","type":"error"},{"inputs":[{"internalType":"uint256","name":"endsAt","type":"uint256"}],"name":"ToEarlyToEnd","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"gameId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"bid","type":"uint256"},{"indexed":false,"internalType":"address","name":"director","type":"address"}],"name":"Bid","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"gameId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"address","name":"director","type":"address"}],"name":"GameEnd","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"gameId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"bid","type":"uint256"},{"indexed":false,"internalType":"address","name":"director","type":"address"}],"name":"GameStart","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[],"name":"bid","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"currentBid","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"director","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"directorRewardPercent","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"duration","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"end","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"endsAt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"gameBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"gameId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"minBid","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"minBidIncreasePercent","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"minStartBid","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"ownerRewardPercent","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"running","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_directorRewardPercent","type":"uint256"}],"name":"setDirectorRewardPercent","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_duration","type":"uint256"}],"name":"setDuration","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_minBidIncreasePercent","type":"uint256"}],"name":"setMinBidIncreasePercent","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_ownerRewardPercent","type":"uint256"}],"name":"setOwnerRewardPercent","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"withdrawable","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]'),i=n(6076),a=n(7044),u=n(7294);function o(e){return function(e,t,n){var r=(0,a.Ge)(n),o=r.library,s=r.account,c=r.chainId;return(0,u.useMemo)((function(){if(!e||!t||!o||!c)return null;try{return new i.CH(e,t,s?o.getSigner(s):o)}catch(n){return console.error("Failed To Get Contract",n),null}}),[e,t,o,c,s])}("0xC079d079c226d795f6587DDd20d993349d0841DD",r,e)}},526:function(e,t,n){n.d(t,{Lj:function(){return a},W$:function(){return u}});var r=n(950),i=n(5254),a=new r._k({supportedChainIds:[3,31337]}),u=new i.S({urls:{3:"https://ropsten.infura.io/v3/".concat("06cdc7be39dd496480504dd93e1b403f"),31337:"http://localhost:8545"},defaultChainId:Number("3")})},3455:function(e,t,n){n.d(t,{s:function(){return i}});var r=n(5553),i=function(e){try{var t=(0,r.dF)(e);return t?Number(t).toFixed(6):t}catch(n){}}},2461:function(e,t,n){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var u,o=e[Symbol.iterator]();!(r=(u=o.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(s){i=!0,a=s}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e,t){var n=void 0===t?4:t;return"".concat(e.substring(0,n+2),"\u2026").concat(e.substring(e.length-n))}n.d(t,{pm:function(){return i},pp:function(){return u},oZ:function(){return o}});var a={1:"",3:"ropsten.",4:"rinkeby.",5:"goerli.",42:"kovan.",69:"kovan-optimistic."},u=function(e){if(!e)return"";switch(e){case 1:return"Main Ethereum Network";case 3:return"Ropsten Test Network";case 4:return"Rinkeby Test Network";case 5:return"Goerli Test Network";case 69:return"Optimistic Kovan Test Network";case 2018:return"Dev Network";case 1337:return"DEV - Ganache";case 31337:return"DEV - Hardhat";default:return"UNKNOWN NETWORK (".concat(e,")")}};function o(e,t){switch(e){case"Account":var n=r(t,2),i=n[0],u=n[1];return"https://".concat(a[i],"etherscan.io/address/").concat(u);case"Transaction":var o=r(t,2),s=o[0],c=o[1];return"https://".concat(a[s],"etherscan.io/tx/").concat(c)}}}}]);